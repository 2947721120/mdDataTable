<md-content class="mdDataTable md-whiteframe-z1" layout="column">
    <!-- table card -->
    <md-data-table-card-header
            ng-if="tableCard.visible"
            ng-hide="alternateHeaders && isAnyRowSelected()">
    </md-data-table-card-header>

    <!-- alternate headers -->
    <md-data-table-alternate-headers ng-if="alternateHeaders && isAnyRowSelected()"></md-data-table-alternate-headers>
    <!-- alternate headers end -->

    <table id="reader" cellpadding="0" cellspacing="0" style="margin-bottom:100px;" ng-show="false">
        <thead></thead>
        <tbody></tbody>
    </table>

    <table cellpadding="0" cellspacing="0" ng-click="showold=!showold">
        <thead>
            <tr class="theadTrRow">
                <!-- TODO: fix text-align:left, in theory it should not be there to make it work -->
                <th class="checkboxCell" ng-show="selectableRows" style="text-align:left;">
                    <md-checkbox aria-label="select all" ng-model="selectAllRows"></md-checkbox>
                </th>

                <th class="column"
                    ng-repeat="headerRowData in tableDataStorageService.header track by $index"
                    md-data-table-add-align-class="headerRowData.alignRule"
                    ng-disabled="!sortableColumns"
                    md-ink-ripple
                    ng-click="alert('todo')"
                >
                    <div layout="row" ng-if="sortableColumns">
                        <md-tooltip ng-show="headerRowData.columnDefinition">{{headerRowData.columnDefinition}}</md-tooltip>

                        <span ng-show="headerRowData.alignRule == 'right'">
                            <span class="hoverSortIcons" ng-if="!isSorted()">
                                <ng-md-icon icon="arrow_forward" size="16"></ng-md-icon>
                            </span>

                            <span class="sortedColumn" ng-if="isSorted()" ng-class="direction == -1 ? 'ascending' : 'descending'">
                                <ng-md-icon icon="arrow_forward" size="16"></ng-md-icon>
                            </span>
                        </span>

                        <span>
                            {{headerRowData.columnName}}
                        </span>

                        <span ng-show="headerRowData.alignRule == 'left'">
                            <span class="hoverSortIcons" ng-if="!isSorted()">
                                <ng-md-icon icon="arrow_forward" size="16"></ng-md-icon>
                            </span>

                            <span class="sortedColumn" ng-if="isSorted()" ng-class="direction == -1 ? 'ascending' : 'descending'">
                                <ng-md-icon icon="arrow_forward" size="16"></ng-md-icon>
                            </span>
                        </span>
                    </div>
                    <div ng-if="!sortableColumns">
                        <md-tooltip ng-show="headerRowData.columnDefinition">{{headerRowData.columnDefinition}}</md-tooltip>

                        <span>
                            {{headerRowData.columnName}}
                        </span>
                    </div>
                </th>
            </tr>
        </thead>
        <tbody>
        <tr ng-repeat="rowData in tableDataStorageService.storage track by $index"
            ng-class="{'selectedRow': rowData.optionList.selected}" ng-show="rowData.optionList.deleted === false">

            <td class="checkboxCell" ng-show="selectableRows">
                <md-checkbox aria-label="select" ng-model="rowData.optionList.selected"></md-checkbox>
            </td>

            <!-- TODO: html content -->
            <td class="column"
                ng-repeat="cellData in rowData.data track by $index"
                md-data-table-add-align-class="tableDataStorageService.header[$index].alignRule"
                >
                <span>{{cellData}}</span>
            </td>
        </tr>
        </tbody>
    </table>

    <!-- table card -->
    <md-data-table-card-footer ng-if="tableCard.visible"></md-data-table-card-footer>
    <!-- table card end -->
</md-content>